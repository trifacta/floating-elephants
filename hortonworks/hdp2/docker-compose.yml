version: '2'

services:
  dns:
    build: dns
    ports:
      - "53:53"
      - "53:53/udp"

  zookeeper:
    build: zookeeper

  hdfsnamenode:
    build: hdfs-namenode
    volumes:
      - "./conf.docker_cluster:/etc/hadoop/conf:ro"

  yarnresourcemanager:
    build: yarn-resource-manager
    volumes:
      - "./conf.docker_cluster:/etc/hadoop/conf:ro"

  mapreducehistory:
    build: mapreduce-history
    volumes:
      - "./conf.docker_cluster:/etc/hadoop/conf:ro"

  clusternode:
    build: cluster-node
    volumes:
      - "./conf.docker_cluster:/etc/hadoop/conf:ro"
